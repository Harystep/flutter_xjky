webpackJsonp([25],{PXsx:function(t,e){},"f+Us":function(t,e,s){t.exports=s.p+"static/img/10_1.2adfc90.png"},wvmH:function(t,e,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i,a=s("a3Yh"),n=s.n(a),d=(s("ux1N"),s("a2VW")),c=s.n(d),o=(s("W6ni"),s("LHpw")),v=s.n(o),l=(s("s3Uv"),s("y31y")),r=s.n(l),u=(s("G03n"),s("OMfM")),g=s.n(u),h=(s("loei"),s("lBnC")),_=s.n(h),x=(s("u/Zp"),s("fmO/")),m=s.n(x),k=s("P7/f"),p=s("MTyd"),f=s("cMGX"),C={components:(i={},n()(i,m.a.name,m.a),n()(i,_.a.name,_.a),n()(i,g.a.name,g.a),n()(i,r.a.name,r.a),n()(i,v.a.name,v.a),n()(i,c.a.Component.name,c.a.Component),n()(i,"navBar",k.a),n()(i,"tabbar",p.a),n()(i,"pagination",f.a),i),props:{},data:function(){return{signList:[],box:[],status:0,dialogShow:!1,getPoints:0}},created:function(){this.getTackList(),this.getSignList()},mounted:function(){},methods:{toIndex:function(){this.$router.push("/")},clickLeft:function(){this.$router.back()},clickRight:function(){_()("按钮")},getTackList:function(){var t=this;this.$api.getTackList().then(function(e){console.log("福利社列表",e),t.box=e.data,console.log(t.box[2])})},getSignList:function(){var t=this;this.$api.getSignList().then(function(e){t.signList=e.data.list,console.log("签到列表",t.signList),t.status=e.data.status})},sign:function(t){var e=this;1!=t.receiveStatus&&this.$api.sign().then(function(t){t.data?(_()("签到成功"),e.dialogShow=!0,e.getPoints=t.data.points,e.getTackList()):_()(t.errMsg)})},get:function(t){var e=this;console.log("领取",t),console.log(t.index),console.log(t.index2),this.$api.getAskReceive({taskKey:t.taskKey,childId:t.childId}).then(function(s){console.log(s),t.index2||0==t.index2?e.box[t.index].data[t.index2].receiveStatus=1:e.box[t.index].receiveStatus=1})}}},y={render:function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"shop"},[i("navBar",{attrs:{title:"福利社",hasBack:!0,leftText:"",rightText:"",border:!1,clickLeft:t.clickLeft,clickRight:t.clickRight,hasBorder:!0}}),t._v(" "),t._l(t.box,function(e,a){return i("div",{key:a,staticClass:"box"},[i("div",{staticClass:"title"},[t._v(t._s(e.title))]),t._v(" "),i("div",{staticClass:"text"},[t._v(t._s(e.desc))]),t._v(" "),"sign"==e.key?i("div",[i("div",{staticClass:"signBox"},t._l(e.data,function(e,a){return i("div",{key:a,staticClass:"signList",class:{hide:0==e.status}},[1==e.type?i("img",{attrs:{src:s("f+Us"),alt:""}}):i("img",{attrs:{src:s("UWkc"),alt:""}}),t._v(" "),i("div",{staticClass:"num"},[t._v(t._s(e.points))])])}),0),t._v(" "),i("div",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.sign,receiveStatus:e.receiveStatus},expression:"{ methods: sign, receiveStatus: item.receiveStatus }"}],staticClass:"buttonBig",class:{hideButtonBox:1==e.receiveStatus}},[t._v("\n        "+t._s(0==e.receiveStatus?"签到并领取":"已签到")+"\n      ")])]):"day_task"==e.key?i("div",[i("div",{staticClass:"taskBox"},t._l(e.data,function(e,s){return i("div",{key:s,staticClass:"taskList"},[i("div",{staticClass:"taskImgBox",class:{taskImgBoxActive:e.goal==e.reached}},[i("img",{attrs:{src:e.icon,alt:""}})]),t._v(" "),i("div",[t._v(t._s(e.title)+"/"+t._s(e.goal))])])}),0),t._v(" "),i("div",{staticClass:"taskSchedule"},[i("div",{staticClass:"taskScheduleList"},[i("div",[t._v("进度")]),t._v(" "),i("div",[t._v(t._s(e.reachedCount)+"/"+t._s(e.data.length))])]),t._v(" "),i("div",{staticClass:"taskScheduleList"},[i("div",[t._v("奖励")]),t._v(" "),i("img",{attrs:{src:s("DasX"),alt:""}}),t._v(" "),i("div",[t._v(t._s(e.reward))])])]),t._v(" "),0==e.receiveStatus&&e.reachedCount==e.data.length?i("div",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.get,taskKey:e.key,index:a},expression:"{ methods: get, taskKey: item.key, index: index }"}],staticClass:"buttonBig"},[t._v("\n        立刻领取\n      ")]):0==e.receiveStatus&&e.reachedCount!=e.data.length?i("div",{staticClass:"buttonBig hideButton"},[t._v("\n        立刻领取\n      ")]):i("div",{staticClass:"buttonBig hideButtonBox"},[t._v("已领取")])]):i("div",[i("div",{staticClass:"listBox"},t._l(e.data,function(n,d){return i("div",{key:d,staticClass:"list"},[i("div",{staticClass:"left"},[i("div",{staticClass:"top"},[t._v("\n              "+t._s(n.title)+"\n              "),i("img",{attrs:{src:s("DasX"),alt:""}}),t._v("\n              +"+t._s(n.reward)+"\n            ")]),t._v(" "),i("div",{staticClass:"bottom"},[t._v("当前进度："+t._s(n.progress)+"/"+t._s(n.goal))])]),t._v(" "),0==n.receiveStatus&&n.progress>=n.goal?i("div",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.get,taskKey:e.key,childId:n.childId,index:a,index2:d},expression:"{ methods: get, taskKey: item.key, childId: item2.childId, index: index, index2: index2 }"}],staticClass:"right"},[t._v("\n            立刻领取\n          ")]):0==n.receiveStatus?i("div",{staticClass:"hideRight"},[t._v("立刻领取")]):i("div",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.get,taskKey:e.key,childId:n.childId,index:a,index2:d},expression:"{ methods: get, taskKey: item.key, childId: item2.childId, index: index, index2: index2 }"}],staticClass:"hideRightBox"},[t._v("\n            已领取\n          ")])])}),0)])])})],2)},staticRenderFns:[]};var S=s("C7Lr")(C,y,!1,function(t){s("PXsx")},"data-v-1ada1a88",null);e.default=S.exports}});