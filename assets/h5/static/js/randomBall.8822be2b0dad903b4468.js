webpackJsonp([30],{ISMH:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=a("a3Yh"),n=a.n(i),s=a("3cXf"),o=a.n(s),c=a("P7/f"),r=a("cMGX"),l=n()({components:{navBar:c.a,pagination:r.a},data:function(){return{over:!0,name:"",machineSn:"",unUsedCount:"",pagination:{content:[],data:{page:1,pageSize:20,machineId:"",wholeCode:""}},requestUrl:"/ball/list",isDisable:!1,fixStatus:""}},methods:{},created:function(){},mounted:function(){this.$nextTick(function(){if(!this.$config.isH5){var t=this.$tool.getUserAgent(),e=o()({type:"pageSuccess"});switch(t){case"iOS":window.webkit.messageHandlers.ReactNativeWebView.postMessage(e);break;case"Android":window.ReactNativeWebView.postMessage(e)}console.log("发送pageSuccess : "+(new Date).getTime())}}),this.$refs.pagination.onRefresh()}},"methods",{isIPhone:function(){return!!navigator.userAgent.match(/\(i[^;]+;( U;)? CPU.+Mac OS X/)},clickLeft:function(){this.$router.back()},clickRight:function(){Toast("按钮")},renderFun:function(t){console.log(t),this.name=t.name,this.unUsedCount=t.unUsedCount,this.machineSn=t.machineSn,this.fixStatus=t.fixStatus;var e=[];this.pagination.data.page>1&&(e=this.pagination.content);for(var a=0;t.page.data&&a<t.page.data.length;a++)e.push(t.page.data[a]);this.pagination.content=e,console.log(this.pagination.content)},toPage:function(){var t=this;this.isDisable||(this.isDisable=!0,this.$api.enterRoom({machineSn:this.machineSn}).then(function(e){if(!t.$config.isH5)if(t.isIPhone()){var a=t.$tool.getUserAgent(),i={type:"toPage",url:"/play?machineSn="+t.machineSn+"&token="+t.$storage.get("token")+"&playType=2",machineSn:t.machineSn,token:t.$storage.get("token")};console.log(i);var n=o()(i);switch(a){case"iOS":window.webkit.messageHandlers.ReactNativeWebView.postMessage(n);break;case"Android":window.ReactNativeWebView.postMessage(n)}}else{var s=t.$tool.getUserAgent(),c=o()({type:"landscape"});switch(s){case"iOS":window.webkit.messageHandlers.ReactNativeWebView.postMessage(c);break;case"Android":window.ReactNativeWebView.postMessage(c)}}}),setTimeout(function(){t.isDisable=!1},1e3))},landscapeScreen:function(){var t=this;setTimeout(function(){t.$router.push({path:"/play",query:{machineSn:t.machineSn,playType:2}})},200)},toRandBallList:function(){this.$router.push("/randomBallList")}}),d={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"randomBall"},[a("button",{staticStyle:{display:"none"},attrs:{id:"landscapeScreen"},on:{click:t.landscapeScreen}},[t._v("555")]),t._v(" "),a("navBar",{attrs:{title:"超级街机",hasBack:!0,leftText:"",rightText:"",clickLeft:t.clickLeft,clickRight:t.clickRight,hasBorder:!0}}),t._v(" "),a("div",{staticClass:"randomTop"},[a("div",{staticClass:"title"},[t._v(t._s(t.name))]),t._v(" "),t.over?a("div",{staticClass:"msg"},[t._v("还剩"+t._s(t.unUsedCount)+"个号未抓取，抓中即可开奖")]):t._e(),t._v(" "),t.over&&0==t.fixStatus?a("div",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.toPage},expression:"{methods:toPage}"}],staticClass:"button"},[t._v("去抓取")]):t._e(),t._v(" "),t.over&&0!=t.fixStatus?a("div",{staticClass:"button buttonHide"},[t._v("去抓取")]):t._e(),t._v(" "),t.over?t._e():a("div",{staticClass:"congratulation"},[t._v("\n      恭喜\n      "),a("div",{staticClass:"imgBox"},[t._v("006")]),t._v("中得特等奖\n    ")]),t._v(" "),a("div",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.toRandBallList},expression:"{methods:toRandBallList}"}],staticClass:"record"},[t._v("抓取记录")])]),t._v(" "),a("pagination",{ref:"pagination",attrs:{render:t.renderFun,pagination:t.pagination,needToken:!1,uri:t.requestUrl}},[a("div",{staticClass:"scrollBox"},[a("div",{staticClass:"randomBox",class:{specilal:!t.over}},[t._l(t.pagination.content,function(e,i){return a("div",{key:i,staticClass:"randomList"},[a("div",{staticClass:"people"},[a("img",{attrs:{src:e.avatar,alt:""}}),t._v(" "),a("div",{staticClass:"name"},[t._v(t._s(e.nickname))])]),t._v(" "),a("div",{staticClass:"num"},[t._v(t._s(e.ballNum)+"号")]),t._v(" "),a("div",{staticClass:"awards"},[t._v(t._s(e.name?e.name:"等待开奖"))])])}),t._v(" "),t.pagination.content.length<=0?a("div",{staticClass:"noList"},[t._v("暂无相关信息")]):t._e()],2)])])],1)},staticRenderFns:[]};var v=a("C7Lr")(l,d,!1,function(t){a("zIm0")},"data-v-7e2732f3",null);e.default=v.exports},zIm0:function(t,e){}});