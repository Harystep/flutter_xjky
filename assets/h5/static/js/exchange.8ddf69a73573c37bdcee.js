webpackJsonp([29],{i010:function(t,i){},oT9y:function(t,i,e){"use strict";Object.defineProperty(i,"__esModule",{value:!0});var a,n=e("a3Yh"),s=e.n(n),o=(e("ux1N"),e("a2VW")),c=e.n(o),r=(e("loei"),e("lBnC")),l=e.n(r),d=(e("NqIV"),e("Xl1F")),m=e.n(d),v=e("P7/f"),p=(e("x1rW"),{components:(a={},s()(a,m.a.name,m.a),s()(a,l.a.name,l.a),s()(a,c.a.name,c.a),s()(a,"navBar",v.a),a),props:{},data:function(){return{id:"",iosOption:"",chargeList:[],chargeListByDiamond:[],show:!1,points:"",money:"",timer:"",openid:"",isSwitch:0,exchangeSpeciesNum:"",goldCoin:"",type:2}},created:function(){this.isWwitch()},mounted:function(){this.getMineInfo(),this.getExchangeList(),this.getExchangeListByDiamond()},methods:{changeType:function(t){this.type!==t&&(this.type=t)},exchangeGoldCoin:function(t){var i=this;if(this.$tools.promptToLogin()){var e=this;c.a.confirm({title:"积分兑换金币",message:'使用<text style="color:red;">'+t.params.points+'</text>积分兑换<text style="color:red;">'+t.params.goldCoin+"金币</text>",confirmButtonText:"确认"}).then(function(a){if("confirm"==a){var n={optionId:t.params.id};if(0==i.points)return l()("积分不足");i.$api.exchangeGoldByPoint(n).then(function(t){0==t.errCode?(l()("兑换成功"),e.getMineInfo()):l()("兑换失败"),console.log("兑换后",t)})}console.log("确认",a)})}},exchangeGoldCoinByDiamond:function(t){var i=this;if(this.$tools.promptToLogin()){var e=this;c.a.confirm({title:"钻石兑换金币",message:'使用<text style="color:red;">'+t.params.points+'</text>钻石兑换<text style="color:red;">'+t.params.goldCoin+"金币</text>",confirmButtonText:"确认"}).then(function(a){if("confirm"===a){var n={num:t.params.points};if(i.money<t.params.points)return l()("钻石不足");i.$api.exchangeGoldByDiamond(n).then(function(t){0===t.errCode?(l()("兑换成功"),e.getMineInfo()):l()("兑换失败"),console.log("兑换后",t)})}console.log("确认",a)})}},getExchangeList:function(){var t=this;this.$api.getExchangeListByGold().then(function(i){console.log("兑换列表",i),0==i.errCode&&(t.chargeList=i.data.list)})},getExchangeListByDiamond:function(){var t=this;this.$api.getExchangeListByDiamond().then(function(i){console.log("钻石兑换列表",i),0==i.errCode&&(t.chargeListByDiamond=i.data.list)})},isWwitch:function(){var t=this;this.$api.isWwitch().then(function(i){console.log("开关",i),0==i.errCode&&(t.isSwitch=i.data.switch)})},clickLeft:function(){this.$router.back()},clickRight:function(){l()("按钮")},getMineInfo:function(){var t=this;this.$api.getMineInfo().then(function(i){console.log(i.data),t.points=i.data.points,t.money=i.data.money,t.openid=i.data.openid,t.goldCoin=i.data.goldCoin})},payFail:function(){l.a.fail("充值失败")},paySuccess:function(){l.a.success("充值成功"),this.getMineInfo()},toPage:function(t){this.$router.push(t.url)}},destroyed:function(){this.timer&&clearInterval(this.timer)}}),h={render:function(){var t=this,i=t.$createElement,a=t._self._c||i;return a("div",{staticClass:"bill"},[a("navBar",{attrs:{title:"兑换中心",hasBack:!0,leftText:"",rightText:"",clickLeft:t.clickLeft,clickRight:t.clickRight,hasBorder:!1}}),t._v(" "),a("button",{staticStyle:{display:"none"},attrs:{id:"paySuccess"},on:{click:t.paySuccess}},[t._v("555")]),t._v(" "),a("button",{staticStyle:{display:"none"},attrs:{id:"payFail"},on:{click:t.payFail}},[t._v("555")]),t._v(" "),a("button",{staticStyle:{display:"none"},attrs:{id:"getMineInfo"},on:{click:t.getMineInfo}},[t._v("555")]),t._v(" "),a("div",{staticStyle:{display:"flex",position:"relative"}},[a("div",{staticClass:"tab_box"},[a("div",{staticClass:"tab",class:1===t.type||"active",on:{click:function(i){return t.changeType(2)}}},[t._v("积分兑换金币")]),t._v(" "),a("div",{staticClass:"tab",class:2===t.type||"active",on:{click:function(i){return t.changeType(1)}}},[t._v("钻石兑换金币")])]),t._v(" "),a("div",{staticClass:"topBox"},[a("div",{staticClass:"numBox"},[a("img",{staticStyle:{width:".54rem","margin-top":".1rem"},attrs:{src:e("EVl9"),alt:""}}),t._v(" "),a("div",[t._v(t._s(t.goldCoin?t.goldCoin:0))])]),t._v(" "),a("div",{staticClass:"text"},[t._v("当前金币")])]),t._v(" "),2===t.type?a("div",{staticClass:"topBox"},[a("div",{staticClass:"numBox"},[a("img",{staticStyle:{width:".54rem","margin-top":".1rem"},attrs:{src:e("GmwY"),alt:""}}),t._v(" "),a("div",[t._v(t._s(t.points?t.points:0))])]),t._v(" "),a("div",{staticClass:"text"},[t._v("积分")])]):t._e(),t._v(" "),1===t.type?a("div",{staticClass:"topBox"},[a("div",{staticClass:"numBox"},[a("img",{staticStyle:{width:".54rem","margin-top":".1rem"},attrs:{src:e("DQ3J"),alt:""}}),t._v(" "),a("div",[t._v(t._s(t.money?t.money:0))])]),t._v(" "),a("div",{staticClass:"text"},[t._v("钻石")])]):t._e()]),t._v(" "),2===t.type?a("div",{staticClass:"moneyBox"},t._l(t.chargeList,function(i,n){return a("div",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.exchangeGoldCoin,params:i},expression:"{ methods: exchangeGoldCoin, params: item }"}],key:n,staticClass:"moneyList"},[a("img",{attrs:{src:e("EVl9"),alt:""}}),t._v(" "),a("div",{staticClass:"num"},[t._v(t._s(i.goldCoin))]),t._v(" "),a("div",{staticClass:"button"},[a("img",{staticClass:"button_img",staticStyle:{width:".35rem"},attrs:{src:e("GmwY"),alt:""}}),t._v("\n        "+t._s(i.points)+"\n      ")])])}),0):t._e(),t._v(" "),1===t.type?a("div",{staticClass:"moneyBox"},t._l(t.chargeListByDiamond,function(i,n){return a("div",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.exchangeGoldCoinByDiamond,params:i},expression:"{ methods: exchangeGoldCoinByDiamond, params: item }"}],key:n,staticClass:"moneyList"},[a("img",{attrs:{src:e("EVl9"),alt:""}}),t._v(" "),a("div",{staticClass:"num"},[t._v(t._s(i.goldCoin))]),t._v(" "),a("div",{staticClass:"button"},[a("img",{staticClass:"button_img",staticStyle:{width:".35rem"},attrs:{src:e("DQ3J"),alt:""}}),t._v("\n        "+t._s(i.points)+"\n      ")])])}),0):t._e(),t._v(" "),a("div",{directives:[{name:"tap",rawName:"v-tap",value:{methods:t.toPage,url:1===t.type?"/bill?source=2&money="+t.money:"/integral?integraltype=1"},expression:"{ methods: toPage, url: type === 1 ? '/bill?source=2&money=' + money : '/integral?integraltype=1' }"}],staticClass:"rechargeDetail footer"},[a("div",[t._v("账单明细")]),t._v(" "),a("img",{attrs:{src:e("VtAm"),alt:""}})])],1)},staticRenderFns:[]};var g=e("C7Lr")(p,h,!1,function(t){e("i010")},"data-v-7f46f74a",null);i.default=g.exports}});